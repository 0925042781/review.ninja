<div class="diff panel panel-default">
	<div class="panel-heading">
		<strong>{{ name }}</strong>
		<button class="btn btn-xs btn-default pull-right" ng-click="expanded=!expanded">
			{{ expanded ? 'contract' : 'expand' }}
		</button>
	</div>
	<div class="panel-body" ng-show="status==='renamed'">
		This file was renamed.
	</div>
	<div class="panel-body" ng-show="status!=='renamed'">
		
		<table>

			<tr ng-repeat="line in (expanded ? file : patch) track by $index" 
			    ng-class="{ addition:line.add, 
			                deletion:line.del, 
			                chunk:line.chunk, 
			                selected:selected===match(pullSha, name, line.head) }">

				<td class="select" ng-click="select(line)">
					<i class="fa fa-circle"></i>
				</td>

				<td class="number" ng-click="select(line)"><pre>{{ line.base }}</pre></td>
				<td class="number" ng-click="select(line)"><pre>{{ line.head }}</pre></td>

				<td><pre>{{ line.content }}</pre></td>

			</tr>

		</table>

	</div>
</div>
