.code {
  width: 100%;

  pre {
    background: none;
    border: 0;
    font-size: $code-font-size;
    margin: 0;
    padding: 0 8px;
  }

  .chunk pre,
  .number pre {
    color: $code-line-number-color;
  }

  .number {
    border-right: 1px solid $code-line-number-color;
    text-align: right;
    width: 30px;
  }

  tr:not(.chunk):not(.deletion) .number {
    cursor: pointer;
  }

  .select {
    cursor: pointer;
    margin-left: -20px;
    position: absolute;

    .octicon {
      position: absolute;
    }
  }

  .number, 
  .select {
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -webkit-user-select: none;    
    user-select: none;
  }

  //
  // Highlighting
  //

  tr.referenced {
    background-color: #f8eec7;
  }

  tr.selected {
    background-color: #f8eec7;
  }

  tr:not(.chunk):hover {
    background-color: #f8eec7;
  }

  tr:not(:hover):not(.addition):not(.deletion) .code {
    background-color: #fff !important;
  }

  .addition {
    background-color: #eaffea;

    &:not(:hover).selected .code,
    &:not(:hover).referenced .code {
      background-color: #eaffea !important;
    }
  }

  .deletion {
    background-color: #ffecec;

    &:not(:hover).selected .code,
    &:not(:hover).referenced .code {
      background-color: #ffecec !important;
    }
  }
}
